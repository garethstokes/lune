Module {modName = "FiberBasic", modExports = [ExposeValue "main"], modImports = [Import {impName = "Lune.IO", impAs = Just "IO", impExposing = Nothing},Import {impName = "Lune.Fiber", impAs = Just "Fiber", impExposing = Nothing},Import {impName = "Lune.String", impAs = Just "Str", impExposing = Nothing}], modDecls = [DeclTypeSig "worker" (QualType {qualConstraints = [], qualType = TypeArrow (TypeCon "String") (TypeApp (TypeApp (TypeCon "Task") (TypeCon "Unit")) (TypeCon "Unit"))}),DeclValue "worker" [Located {locSpan = Span {spanStartLine = 8, spanStartCol = 8, spanEndLine = 8, spanEndCol = 13}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = PVar "name"}] (Located {locSpan = Span {spanStartLine = 9, spanStartCol = 3, spanEndLine = 11, spanEndCol = 45}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = DoBlock [Located {locSpan = Span {spanStartLine = 10, spanStartCol = 5, spanEndLine = 10, spanEndCol = 44}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 10, spanStartCol = 33, spanEndLine = 10, spanEndCol = 43}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 10, spanStartCol = 5, spanEndLine = 10, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 10, spanStartCol = 5, spanEndLine = 10, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 10, spanStartCol = 33, spanEndLine = 10, spanEndCol = 43}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 10, spanStartCol = 28, spanEndLine = 10, spanEndCol = 33}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 10, spanStartCol = 17, spanEndLine = 10, spanEndCol = 20}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 10, spanStartCol = 17, spanEndLine = 10, spanEndCol = 20}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "Str"}) "append"}) (Located {locSpan = Span {spanStartLine = 10, spanStartCol = 28, spanEndLine = 10, spanEndCol = 33}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "name"})}) (Located {locSpan = Span {spanStartLine = 10, spanStartCol = 33, spanEndLine = 10, spanEndCol = 43}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit " started"})})})},Located {locSpan = Span {spanStartLine = 11, spanStartCol = 5, spanEndLine = 11, spanEndCol = 45}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 11, spanStartCol = 33, spanEndLine = 11, spanEndCol = 44}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 11, spanStartCol = 5, spanEndLine = 11, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 11, spanStartCol = 5, spanEndLine = 11, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 11, spanStartCol = 33, spanEndLine = 11, spanEndCol = 44}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 11, spanStartCol = 28, spanEndLine = 11, spanEndCol = 33}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 11, spanStartCol = 17, spanEndLine = 11, spanEndCol = 20}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 11, spanStartCol = 17, spanEndLine = 11, spanEndCol = 20}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "Str"}) "append"}) (Located {locSpan = Span {spanStartLine = 11, spanStartCol = 28, spanEndLine = 11, spanEndCol = 33}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "name"})}) (Located {locSpan = Span {spanStartLine = 11, spanStartCol = 33, spanEndLine = 11, spanEndCol = 44}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit " finished"})})})}]}),DeclTypeSig "main" (QualType {qualConstraints = [], qualType = TypeApp (TypeApp (TypeCon "Task") (TypeCon "Unit")) (TypeCon "Unit")}),DeclValue "main" [] (Located {locSpan = Span {spanStartLine = 15, spanStartCol = 3, spanEndLine = 25, spanEndCol = 28}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = DoBlock [Located {locSpan = Span {spanStartLine = 16, spanStartCol = 5, spanEndLine = 16, spanEndCol = 38}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 16, spanStartCol = 16, spanEndLine = 16, spanEndCol = 38}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 16, spanStartCol = 5, spanEndLine = 16, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 16, spanStartCol = 5, spanEndLine = 16, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 16, spanStartCol = 16, spanEndLine = 16, spanEndCol = 38}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit "Main: spawning tasks"})})},Located {locSpan = Span {spanStartLine = 17, spanStartCol = 5, spanEndLine = 17, spanEndCol = 39}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = BindStmt (Located {locSpan = Span {spanStartLine = 17, spanStartCol = 5, spanEndLine = 17, spanEndCol = 8}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = PVar "t1"}) (Located {locSpan = Span {spanStartLine = 17, spanStartCol = 31, spanEndLine = 17, spanEndCol = 38}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 17, spanStartCol = 11, spanEndLine = 17, spanEndCol = 16}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 17, spanStartCol = 11, spanEndLine = 17, spanEndCol = 16}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "Fiber"}) "spawn"}) (Located {locSpan = Span {spanStartLine = 17, spanStartCol = 31, spanEndLine = 17, spanEndCol = 38}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 17, spanStartCol = 24, spanEndLine = 17, spanEndCol = 31}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "worker"}) (Located {locSpan = Span {spanStartLine = 17, spanStartCol = 31, spanEndLine = 17, spanEndCol = 38}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit "Task1"})})})},Located {locSpan = Span {spanStartLine = 18, spanStartCol = 5, spanEndLine = 18, spanEndCol = 39}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = BindStmt (Located {locSpan = Span {spanStartLine = 18, spanStartCol = 5, spanEndLine = 18, spanEndCol = 8}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = PVar "t2"}) (Located {locSpan = Span {spanStartLine = 18, spanStartCol = 31, spanEndLine = 18, spanEndCol = 38}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 18, spanStartCol = 11, spanEndLine = 18, spanEndCol = 16}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 18, spanStartCol = 11, spanEndLine = 18, spanEndCol = 16}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "Fiber"}) "spawn"}) (Located {locSpan = Span {spanStartLine = 18, spanStartCol = 31, spanEndLine = 18, spanEndCol = 38}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 18, spanStartCol = 24, spanEndLine = 18, spanEndCol = 31}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "worker"}) (Located {locSpan = Span {spanStartLine = 18, spanStartCol = 31, spanEndLine = 18, spanEndCol = 38}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit "Task2"})})})},Located {locSpan = Span {spanStartLine = 19, spanStartCol = 5, spanEndLine = 19, spanEndCol = 49}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 19, spanStartCol = 16, spanEndLine = 19, spanEndCol = 49}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 19, spanStartCol = 5, spanEndLine = 19, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 19, spanStartCol = 5, spanEndLine = 19, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 19, spanStartCol = 16, spanEndLine = 19, spanEndCol = 49}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit "Main: yielding to let tasks run"})})},Located {locSpan = Span {spanStartLine = 20, spanStartCol = 5, spanEndLine = 20, spanEndCol = 21}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = DiscardBindStmt (Located {locSpan = Span {spanStartLine = 20, spanStartCol = 10, spanEndLine = 20, spanEndCol = 15}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 20, spanStartCol = 10, spanEndLine = 20, spanEndCol = 15}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "Fiber"}) "yield"})},Located {locSpan = Span {spanStartLine = 21, spanStartCol = 5, spanEndLine = 21, spanEndCol = 21}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = DiscardBindStmt (Located {locSpan = Span {spanStartLine = 21, spanStartCol = 10, spanEndLine = 21, spanEndCol = 15}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 21, spanStartCol = 10, spanEndLine = 21, spanEndCol = 15}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "Fiber"}) "yield"})},Located {locSpan = Span {spanStartLine = 22, spanStartCol = 5, spanEndLine = 22, spanEndCol = 40}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 22, spanStartCol = 16, spanEndLine = 22, spanEndCol = 40}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 22, spanStartCol = 5, spanEndLine = 22, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 22, spanStartCol = 5, spanEndLine = 22, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 22, spanStartCol = 16, spanEndLine = 22, spanEndCol = 40}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit "Main: awaiting results"})})},Located {locSpan = Span {spanStartLine = 23, spanStartCol = 5, spanEndLine = 23, spanEndCol = 24}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = DiscardBindStmt (Located {locSpan = Span {spanStartLine = 23, spanStartCol = 22, spanEndLine = 23, spanEndCol = 24}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 23, spanStartCol = 10, spanEndLine = 23, spanEndCol = 15}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 23, spanStartCol = 10, spanEndLine = 23, spanEndCol = 15}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "Fiber"}) "await"}) (Located {locSpan = Span {spanStartLine = 23, spanStartCol = 22, spanEndLine = 23, spanEndCol = 24}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "t1"})})},Located {locSpan = Span {spanStartLine = 24, spanStartCol = 5, spanEndLine = 24, spanEndCol = 24}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = DiscardBindStmt (Located {locSpan = Span {spanStartLine = 24, spanStartCol = 22, spanEndLine = 24, spanEndCol = 24}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 24, spanStartCol = 10, spanEndLine = 24, spanEndCol = 15}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 24, spanStartCol = 10, spanEndLine = 24, spanEndCol = 15}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "Fiber"}) "await"}) (Located {locSpan = Span {spanStartLine = 24, spanStartCol = 22, spanEndLine = 24, spanEndCol = 24}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "t2"})})},Located {locSpan = Span {spanStartLine = 25, spanStartCol = 5, spanEndLine = 25, spanEndCol = 28}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 25, spanStartCol = 16, spanEndLine = 25, spanEndCol = 28}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 25, spanStartCol = 5, spanEndLine = 25, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 25, spanStartCol = 5, spanEndLine = 25, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 25, spanStartCol = 16, spanEndLine = 25, spanEndCol = 28}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit "Main: done"})})}]})]}
