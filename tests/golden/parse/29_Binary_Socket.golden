Module {modName = "BinarySocketExample", modExports = [ExposeValue "main"], modImports = [Import {impName = "Lune.IO", impAs = Just "IO", impExposing = Nothing},Import {impName = "Lune.Bytes", impAs = Just "Bytes", impExposing = Just [ExposeType "Bytes" ExposeOpaque]},Import {impName = "Lune.Net.Socket", impAs = Just "Socket", impExposing = Just [ExposeType "Connection" ExposeOpaque]},Import {impName = "Lune.String", impAs = Just "Str", impExposing = Nothing}], modDecls = [DeclTypeSig "main" (QualType {qualConstraints = [], qualType = TypeApp (TypeApp (TypeCon "Task") (TypeCon "Unit")) (TypeCon "Unit")}),DeclValue "main" [] (Located {locSpan = Span {spanStartLine = 23, spanStartCol = 3, spanEndLine = 75, spanEndCol = 23}, locComments = Comments {commentsLeading = [Comment {commentKind = DocComment, commentPosition = Leading, commentText = " Binary TCP socket example.\n\nThis demonstrates binary socket operations for implementing\nwire protocols (PostgreSQL, Redis, etc.) in pure Lune.\n\nThe key functions are:\n- Socket.sendBytes : Connection -> Bytes -> IO (Result Error Unit)\n- Socket.recvBytes : Connection -> Int -> IO (Result Error Bytes)\n\nUnlike Socket.send/recv which work with String (text),\nsendBytes/recvBytes work with raw Bytes for binary protocols.\n", commentLine = 3, commentCol = 1, commentEndLine = 14, commentEndCol = 3}], commentsTrailing = [], commentsInner = []}, locValue = DoBlock [Located {locSpan = Span {spanStartLine = 24, spanStartCol = 5, spanEndLine = 24, spanEndCol = 51}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 24, spanStartCol = 16, spanEndLine = 24, spanEndCol = 51}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 24, spanStartCol = 5, spanEndLine = 24, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 24, spanStartCol = 5, spanEndLine = 24, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 24, spanStartCol = 16, spanEndLine = 24, spanEndCol = 51}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit "=== Binary TCP Socket Example ==="})})},Located {locSpan = Span {spanStartLine = 25, spanStartCol = 5, spanEndLine = 25, spanEndCol = 18}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 25, spanStartCol = 16, spanEndLine = 25, spanEndCol = 18}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 25, spanStartCol = 5, spanEndLine = 25, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 25, spanStartCol = 5, spanEndLine = 25, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 25, spanStartCol = 16, spanEndLine = 25, spanEndCol = 18}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit ""})})},Located {locSpan = Span {spanStartLine = 26, spanStartCol = 5, spanEndLine = 26, spanEndCol = 70}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 26, spanStartCol = 16, spanEndLine = 26, spanEndCol = 70}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 26, spanStartCol = 5, spanEndLine = 26, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 26, spanStartCol = 5, spanEndLine = 26, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 26, spanStartCol = 16, spanEndLine = 26, spanEndCol = 70}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit "Binary sockets enable wire protocol implementations."})})},Located {locSpan = Span {spanStartLine = 27, spanStartCol = 5, spanEndLine = 27, spanEndCol = 18}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 27, spanStartCol = 16, spanEndLine = 27, spanEndCol = 18}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 27, spanStartCol = 5, spanEndLine = 27, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 27, spanStartCol = 5, spanEndLine = 27, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 27, spanStartCol = 16, spanEndLine = 27, spanEndCol = 18}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit ""})})},Located {locSpan = Span {spanStartLine = 28, spanStartCol = 5, spanEndLine = 28, spanEndCol = 38}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 28, spanStartCol = 16, spanEndLine = 28, spanEndCol = 38}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 28, spanStartCol = 5, spanEndLine = 28, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 28, spanStartCol = 5, spanEndLine = 28, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 28, spanStartCol = 16, spanEndLine = 28, spanEndCol = 38}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit "=== API Overview ==="})})},Located {locSpan = Span {spanStartLine = 29, spanStartCol = 5, spanEndLine = 29, spanEndCol = 18}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 29, spanStartCol = 16, spanEndLine = 29, spanEndCol = 18}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 29, spanStartCol = 5, spanEndLine = 29, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 29, spanStartCol = 5, spanEndLine = 29, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 29, spanStartCol = 16, spanEndLine = 29, spanEndCol = 18}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit ""})})},Located {locSpan = Span {spanStartLine = 30, spanStartCol = 5, spanEndLine = 30, spanEndCol = 75}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 30, spanStartCol = 16, spanEndLine = 30, spanEndCol = 75}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 30, spanStartCol = 5, spanEndLine = 30, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 30, spanStartCol = 5, spanEndLine = 30, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 30, spanStartCol = 16, spanEndLine = 30, spanEndCol = 75}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit "sendBytes : Connection -> Bytes -> IO (Result Error Unit)"})})},Located {locSpan = Span {spanStartLine = 31, spanStartCol = 5, spanEndLine = 31, spanEndCol = 54}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 31, spanStartCol = 16, spanEndLine = 31, spanEndCol = 54}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 31, spanStartCol = 5, spanEndLine = 31, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 31, spanStartCol = 5, spanEndLine = 31, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 31, spanStartCol = 16, spanEndLine = 31, spanEndCol = 54}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit "  Send raw bytes over TCP connection"})})},Located {locSpan = Span {spanStartLine = 32, spanStartCol = 5, spanEndLine = 32, spanEndCol = 18}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 32, spanStartCol = 16, spanEndLine = 32, spanEndCol = 18}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 32, spanStartCol = 5, spanEndLine = 32, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 32, spanStartCol = 5, spanEndLine = 32, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 32, spanStartCol = 16, spanEndLine = 32, spanEndCol = 18}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit ""})})},Located {locSpan = Span {spanStartLine = 33, spanStartCol = 5, spanEndLine = 33, spanEndCol = 74}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 33, spanStartCol = 16, spanEndLine = 33, spanEndCol = 74}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 33, spanStartCol = 5, spanEndLine = 33, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 33, spanStartCol = 5, spanEndLine = 33, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 33, spanStartCol = 16, spanEndLine = 33, spanEndCol = 74}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit "recvBytes : Connection -> Int -> IO (Result Error Bytes)"})})},Located {locSpan = Span {spanStartLine = 34, spanStartCol = 5, spanEndLine = 34, spanEndCol = 71}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 34, spanStartCol = 16, spanEndLine = 34, spanEndCol = 71}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 34, spanStartCol = 5, spanEndLine = 34, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 34, spanStartCol = 5, spanEndLine = 34, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 34, spanStartCol = 16, spanEndLine = 34, spanEndCol = 71}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit "  Receive up to N bytes (returns when data available)"})})},Located {locSpan = Span {spanStartLine = 35, spanStartCol = 5, spanEndLine = 35, spanEndCol = 18}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 35, spanStartCol = 16, spanEndLine = 35, spanEndCol = 18}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 35, spanStartCol = 5, spanEndLine = 35, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 35, spanStartCol = 5, spanEndLine = 35, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 35, spanStartCol = 16, spanEndLine = 35, spanEndCol = 18}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit ""})})},Located {locSpan = Span {spanStartLine = 36, spanStartCol = 5, spanEndLine = 36, spanEndCol = 57}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 36, spanStartCol = 16, spanEndLine = 36, spanEndCol = 57}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 36, spanStartCol = 5, spanEndLine = 36, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 36, spanStartCol = 5, spanEndLine = 36, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 36, spanStartCol = 16, spanEndLine = 36, spanEndCol = 57}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit "=== Example: Simple Protocol Client ==="})})},Located {locSpan = Span {spanStartLine = 37, spanStartCol = 5, spanEndLine = 37, spanEndCol = 18}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 37, spanStartCol = 16, spanEndLine = 37, spanEndCol = 18}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 37, spanStartCol = 5, spanEndLine = 37, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 37, spanStartCol = 5, spanEndLine = 37, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 37, spanStartCol = 16, spanEndLine = 37, spanEndCol = 18}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit ""})})},Located {locSpan = Span {spanStartLine = 38, spanStartCol = 5, spanEndLine = 38, spanEndCol = 40}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 38, spanStartCol = 16, spanEndLine = 38, spanEndCol = 40}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 38, spanStartCol = 5, spanEndLine = 38, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 38, spanStartCol = 5, spanEndLine = 38, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 38, spanStartCol = 16, spanEndLine = 38, spanEndCol = 40}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit "-- Connect to a server"})})},Located {locSpan = Span {spanStartLine = 39, spanStartCol = 5, spanEndLine = 39, spanEndCol = 61}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 39, spanStartCol = 16, spanEndLine = 39, spanEndCol = 61}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 39, spanStartCol = 5, spanEndLine = 39, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 39, spanStartCol = 5, spanEndLine = 39, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 39, spanStartCol = 16, spanEndLine = 39, spanEndCol = 61}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit "result <- Socket.connect \"localhost\" 5000"})})},Located {locSpan = Span {spanStartLine = 40, spanStartCol = 5, spanEndLine = 40, spanEndCol = 32}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 40, spanStartCol = 16, spanEndLine = 40, spanEndCol = 32}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 40, spanStartCol = 5, spanEndLine = 40, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 40, spanStartCol = 5, spanEndLine = 40, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 40, spanStartCol = 16, spanEndLine = 40, spanEndCol = 32}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit "case result of"})})},Located {locSpan = Span {spanStartLine = 41, spanStartCol = 5, spanEndLine = 41, spanEndCol = 61}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 41, spanStartCol = 16, spanEndLine = 41, spanEndCol = 61}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 41, spanStartCol = 5, spanEndLine = 41, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 41, spanStartCol = 5, spanEndLine = 41, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 41, spanStartCol = 16, spanEndLine = 41, spanEndCol = 61}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit "  Err e -> IO.println \"Connection failed\""})})},Located {locSpan = Span {spanStartLine = 42, spanStartCol = 5, spanEndLine = 42, spanEndCol = 30}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 42, spanStartCol = 16, spanEndLine = 42, spanEndCol = 30}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 42, spanStartCol = 5, spanEndLine = 42, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 42, spanStartCol = 5, spanEndLine = 42, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 42, spanStartCol = 16, spanEndLine = 42, spanEndCol = 30}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit "  Ok conn ->"})})},Located {locSpan = Span {spanStartLine = 43, spanStartCol = 5, spanEndLine = 43, spanEndCol = 24}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 43, spanStartCol = 16, spanEndLine = 43, spanEndCol = 24}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 43, spanStartCol = 5, spanEndLine = 43, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 43, spanStartCol = 5, spanEndLine = 43, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 43, spanStartCol = 16, spanEndLine = 43, spanEndCol = 24}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit "    do"})})},Located {locSpan = Span {spanStartLine = 44, spanStartCol = 5, spanEndLine = 44, spanEndCol = 61}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 44, spanStartCol = 16, spanEndLine = 44, spanEndCol = 61}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 44, spanStartCol = 5, spanEndLine = 44, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 44, spanStartCol = 5, spanEndLine = 44, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 44, spanStartCol = 16, spanEndLine = 44, spanEndCol = 61}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit "      -- Build a message with length prefix"})})},Located {locSpan = Span {spanStartLine = 45, spanStartCol = 5, spanEndLine = 45, spanEndCol = 91}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 45, spanStartCol = 16, spanEndLine = 45, spanEndCol = 91}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 45, spanStartCol = 5, spanEndLine = 45, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 45, spanStartCol = 5, spanEndLine = 45, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 45, spanStartCol = 16, spanEndLine = 45, spanEndCol = 91}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit "      let payload = Bytes.fromList [72, 101, 108, 108, 111]  -- \"Hello\""})})},Located {locSpan = Span {spanStartLine = 46, spanStartCol = 5, spanEndLine = 46, spanEndCol = 80}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 46, spanStartCol = 16, spanEndLine = 46, spanEndCol = 80}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 46, spanStartCol = 5, spanEndLine = 46, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 46, spanStartCol = 5, spanEndLine = 46, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 46, spanStartCol = 16, spanEndLine = 46, spanEndCol = 80}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit "      let lenPrefix = Bytes.packInt32BE (Bytes.length payload)"})})},Located {locSpan = Span {spanStartLine = 47, spanStartCol = 5, spanEndLine = 47, spanEndCol = 68}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 47, spanStartCol = 16, spanEndLine = 47, spanEndCol = 68}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 47, spanStartCol = 5, spanEndLine = 47, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 47, spanStartCol = 5, spanEndLine = 47, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 47, spanStartCol = 16, spanEndLine = 47, spanEndCol = 68}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit "      let message = Bytes.concat lenPrefix payload"})})},Located {locSpan = Span {spanStartLine = 48, spanStartCol = 5, spanEndLine = 48, spanEndCol = 18}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 48, spanStartCol = 16, spanEndLine = 48, spanEndCol = 18}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 48, spanStartCol = 5, spanEndLine = 48, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 48, spanStartCol = 5, spanEndLine = 48, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 48, spanStartCol = 16, spanEndLine = 48, spanEndCol = 18}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit ""})})},Located {locSpan = Span {spanStartLine = 49, spanStartCol = 5, spanEndLine = 49, spanEndCol = 43}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 49, spanStartCol = 16, spanEndLine = 49, spanEndCol = 43}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 49, spanStartCol = 5, spanEndLine = 49, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 49, spanStartCol = 5, spanEndLine = 49, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 49, spanStartCol = 16, spanEndLine = 49, spanEndCol = 43}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit "      -- Send the message"})})},Located {locSpan = Span {spanStartLine = 50, spanStartCol = 5, spanEndLine = 50, spanEndCol = 58}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 50, spanStartCol = 16, spanEndLine = 50, spanEndCol = 58}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 50, spanStartCol = 5, spanEndLine = 50, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 50, spanStartCol = 5, spanEndLine = 50, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 50, spanStartCol = 16, spanEndLine = 50, spanEndCol = 58}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit "      _ <- Socket.sendBytes conn message"})})},Located {locSpan = Span {spanStartLine = 51, spanStartCol = 5, spanEndLine = 51, spanEndCol = 18}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 51, spanStartCol = 16, spanEndLine = 51, spanEndCol = 18}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 51, spanStartCol = 5, spanEndLine = 51, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 51, spanStartCol = 5, spanEndLine = 51, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 51, spanStartCol = 16, spanEndLine = 51, spanEndCol = 18}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit ""})})},Located {locSpan = Span {spanStartLine = 52, spanStartCol = 5, spanEndLine = 52, spanEndCol = 57}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 52, spanStartCol = 16, spanEndLine = 52, spanEndCol = 57}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 52, spanStartCol = 5, spanEndLine = 52, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 52, spanStartCol = 5, spanEndLine = 52, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 52, spanStartCol = 16, spanEndLine = 52, spanEndCol = 57}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit "      -- Read response length (4 bytes)"})})},Located {locSpan = Span {spanStartLine = 53, spanStartCol = 5, spanEndLine = 53, spanEndCol = 60}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 53, spanStartCol = 16, spanEndLine = 53, spanEndCol = 60}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 53, spanStartCol = 5, spanEndLine = 53, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 53, spanStartCol = 5, spanEndLine = 53, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 53, spanStartCol = 16, spanEndLine = 53, spanEndCol = 60}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit "      lenResult <- Socket.recvBytes conn 4"})})},Located {locSpan = Span {spanStartLine = 54, spanStartCol = 5, spanEndLine = 54, spanEndCol = 41}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 54, spanStartCol = 16, spanEndLine = 54, spanEndCol = 41}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 54, spanStartCol = 5, spanEndLine = 54, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 54, spanStartCol = 5, spanEndLine = 54, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 54, spanStartCol = 16, spanEndLine = 54, spanEndCol = 41}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit "      case lenResult of"})})},Located {locSpan = Span {spanStartLine = 55, spanStartCol = 5, spanEndLine = 55, spanEndCol = 61}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 55, spanStartCol = 16, spanEndLine = 55, spanEndCol = 61}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 55, spanStartCol = 5, spanEndLine = 55, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 55, spanStartCol = 5, spanEndLine = 55, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 55, spanStartCol = 16, spanEndLine = 55, spanEndCol = 61}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit "        Err e -> IO.println \"Read failed\""})})},Located {locSpan = Span {spanStartLine = 56, spanStartCol = 5, spanEndLine = 56, spanEndCol = 40}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 56, spanStartCol = 16, spanEndLine = 56, spanEndCol = 40}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 56, spanStartCol = 5, spanEndLine = 56, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 56, spanStartCol = 5, spanEndLine = 56, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 56, spanStartCol = 16, spanEndLine = 56, spanEndCol = 40}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit "        Ok lenBytes ->"})})},Located {locSpan = Span {spanStartLine = 57, spanStartCol = 5, spanEndLine = 57, spanEndCol = 64}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 57, spanStartCol = 16, spanEndLine = 57, spanEndCol = 64}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 57, spanStartCol = 5, spanEndLine = 57, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 57, spanStartCol = 5, spanEndLine = 57, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 57, spanStartCol = 16, spanEndLine = 57, spanEndCol = 64}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit "          case Bytes.unpackInt32BE lenBytes of"})})},Located {locSpan = Span {spanStartLine = 58, spanStartCol = 5, spanEndLine = 58, spanEndCol = 68}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 58, spanStartCol = 16, spanEndLine = 58, spanEndCol = 68}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 58, spanStartCol = 5, spanEndLine = 58, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 58, spanStartCol = 5, spanEndLine = 58, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 58, spanStartCol = 16, spanEndLine = 58, spanEndCol = 68}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit "            Err e -> IO.println \"Invalid length\""})})},Located {locSpan = Span {spanStartLine = 59, spanStartCol = 5, spanEndLine = 59, spanEndCol = 39}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 59, spanStartCol = 16, spanEndLine = 59, spanEndCol = 39}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 59, spanStartCol = 5, spanEndLine = 59, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 59, spanStartCol = 5, spanEndLine = 59, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 59, spanStartCol = 16, spanEndLine = 59, spanEndCol = 39}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit "            Ok len ->"})})},Located {locSpan = Span {spanStartLine = 60, spanStartCol = 5, spanEndLine = 60, spanEndCol = 34}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 60, spanStartCol = 16, spanEndLine = 60, spanEndCol = 34}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 60, spanStartCol = 5, spanEndLine = 60, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 60, spanStartCol = 5, spanEndLine = 60, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 60, spanStartCol = 16, spanEndLine = 60, spanEndCol = 34}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit "              do"})})},Located {locSpan = Span {spanStartLine = 61, spanStartCol = 5, spanEndLine = 61, spanEndCol = 58}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 61, spanStartCol = 16, spanEndLine = 61, spanEndCol = 58}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 61, spanStartCol = 5, spanEndLine = 61, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 61, spanStartCol = 5, spanEndLine = 61, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 61, spanStartCol = 16, spanEndLine = 61, spanEndCol = 58}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit "                -- Read response payload"})})},Located {locSpan = Span {spanStartLine = 62, spanStartCol = 5, spanEndLine = 62, spanEndCol = 76}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 62, spanStartCol = 16, spanEndLine = 62, spanEndCol = 76}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 62, spanStartCol = 5, spanEndLine = 62, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 62, spanStartCol = 5, spanEndLine = 62, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 62, spanStartCol = 16, spanEndLine = 62, spanEndCol = 76}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit "                payloadResult <- Socket.recvBytes conn len"})})},Located {locSpan = Span {spanStartLine = 63, spanStartCol = 5, spanEndLine = 63, spanEndCol = 56}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 63, spanStartCol = 16, spanEndLine = 63, spanEndCol = 56}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 63, spanStartCol = 5, spanEndLine = 63, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 63, spanStartCol = 5, spanEndLine = 63, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 63, spanStartCol = 16, spanEndLine = 63, spanEndCol = 56}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit "                -- Process response..."})})},Located {locSpan = Span {spanStartLine = 64, spanStartCol = 5, spanEndLine = 64, spanEndCol = 55}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 64, spanStartCol = 16, spanEndLine = 64, spanEndCol = 55}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 64, spanStartCol = 5, spanEndLine = 64, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 64, spanStartCol = 5, spanEndLine = 64, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 64, spanStartCol = 16, spanEndLine = 64, spanEndCol = 55}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit "                Socket.closeConn conn"})})},Located {locSpan = Span {spanStartLine = 65, spanStartCol = 5, spanEndLine = 65, spanEndCol = 18}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 65, spanStartCol = 16, spanEndLine = 65, spanEndCol = 18}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 65, spanStartCol = 5, spanEndLine = 65, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 65, spanStartCol = 5, spanEndLine = 65, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 65, spanStartCol = 16, spanEndLine = 65, spanEndCol = 18}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit ""})})},Located {locSpan = Span {spanStartLine = 66, spanStartCol = 5, spanEndLine = 66, spanEndCol = 64}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 66, spanStartCol = 16, spanEndLine = 66, spanEndCol = 64}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 66, spanStartCol = 5, spanEndLine = 66, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 66, spanStartCol = 5, spanEndLine = 66, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 66, spanStartCol = 16, spanEndLine = 66, spanEndCol = 64}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit "=== Use Case: Wire Protocol Implementation ==="})})},Located {locSpan = Span {spanStartLine = 67, spanStartCol = 5, spanEndLine = 67, spanEndCol = 18}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 67, spanStartCol = 16, spanEndLine = 67, spanEndCol = 18}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 67, spanStartCol = 5, spanEndLine = 67, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 67, spanStartCol = 5, spanEndLine = 67, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 67, spanStartCol = 16, spanEndLine = 67, spanEndCol = 18}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit ""})})},Located {locSpan = Span {spanStartLine = 68, spanStartCol = 5, spanEndLine = 68, spanEndCol = 76}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 68, spanStartCol = 16, spanEndLine = 68, spanEndCol = 76}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 68, spanStartCol = 5, spanEndLine = 68, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 68, spanStartCol = 5, spanEndLine = 68, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 68, spanStartCol = 16, spanEndLine = 68, spanEndCol = 76}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit "Binary sockets + Bytes enable implementing protocols like:"})})},Located {locSpan = Span {spanStartLine = 69, spanStartCol = 5, spanEndLine = 69, spanEndCol = 62}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 69, spanStartCol = 16, spanEndLine = 69, spanEndCol = 62}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 69, spanStartCol = 5, spanEndLine = 69, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 69, spanStartCol = 5, spanEndLine = 69, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 69, spanStartCol = 16, spanEndLine = 69, spanEndCol = 62}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit "- PostgreSQL wire protocol (message framing)"})})},Located {locSpan = Span {spanStartLine = 70, spanStartCol = 5, spanEndLine = 70, spanEndCol = 39}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 70, spanStartCol = 16, spanEndLine = 70, spanEndCol = 39}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 70, spanStartCol = 5, spanEndLine = 70, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 70, spanStartCol = 5, spanEndLine = 70, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 70, spanStartCol = 16, spanEndLine = 70, spanEndCol = 39}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit "- Redis RESP protocol"})})},Located {locSpan = Span {spanStartLine = 71, spanStartCol = 5, spanEndLine = 71, spanEndCol = 43}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 71, spanStartCol = 16, spanEndLine = 71, spanEndCol = 43}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 71, spanStartCol = 5, spanEndLine = 71, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 71, spanStartCol = 5, spanEndLine = 71, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 71, spanStartCol = 16, spanEndLine = 71, spanEndCol = 43}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit "- Custom binary protocols"})})},Located {locSpan = Span {spanStartLine = 72, spanStartCol = 5, spanEndLine = 72, spanEndCol = 18}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 72, spanStartCol = 16, spanEndLine = 72, spanEndCol = 18}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 72, spanStartCol = 5, spanEndLine = 72, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 72, spanStartCol = 5, spanEndLine = 72, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 72, spanStartCol = 16, spanEndLine = 72, spanEndCol = 18}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit ""})})},Located {locSpan = Span {spanStartLine = 73, spanStartCol = 5, spanEndLine = 73, spanEndCol = 72}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 73, spanStartCol = 16, spanEndLine = 73, spanEndCol = 72}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 73, spanStartCol = 5, spanEndLine = 73, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 73, spanStartCol = 5, spanEndLine = 73, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 73, spanStartCol = 16, spanEndLine = 73, spanEndCol = 72}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit "For TLS-encrypted protocols, use Lune.Net.Tls instead."})})},Located {locSpan = Span {spanStartLine = 74, spanStartCol = 5, spanEndLine = 74, spanEndCol = 18}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 74, spanStartCol = 16, spanEndLine = 74, spanEndCol = 18}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 74, spanStartCol = 5, spanEndLine = 74, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 74, spanStartCol = 5, spanEndLine = 74, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 74, spanStartCol = 16, spanEndLine = 74, spanEndCol = 18}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit ""})})},Located {locSpan = Span {spanStartLine = 75, spanStartCol = 5, spanEndLine = 75, spanEndCol = 23}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = ExprStmt (Located {locSpan = Span {spanStartLine = 75, spanStartCol = 16, spanEndLine = 75, spanEndCol = 23}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = App (Located {locSpan = Span {spanStartLine = 75, spanStartCol = 5, spanEndLine = 75, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = FieldAccess (Located {locSpan = Span {spanStartLine = 75, spanStartCol = 5, spanEndLine = 75, spanEndCol = 7}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = Var "IO"}) "println"}) (Located {locSpan = Span {spanStartLine = 75, spanStartCol = 16, spanEndLine = 75, spanEndCol = 23}, locComments = Comments {commentsLeading = [], commentsTrailing = [], commentsInner = []}, locValue = StringLit "Done!"})})}]})]}
