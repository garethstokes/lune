Module {modName = "DeriveTable", modExports = [ExposeValue "demo",ExposeValue "demo2",ExposeValue "demo3"], modImports = [Import {impName = "Lune.Prelude", impAs = Nothing, impExposing = Just [ExposeType "Bool" ExposeOpaque,ExposeType "Int" ExposeOpaque,ExposeType "String" ExposeOpaque,ExposeType "Maybe" ExposeAll,ExposeType "List" ExposeAll,ExposeType "IO" ExposeOpaque,ExposeType "Unit" ExposeOpaque]},Import {impName = "Lune.Database.Query", impAs = Nothing, impExposing = Just [ExposeValue "getSql",ExposeValue "getParams",ExposeValue "eq",ExposeValue "where_"]},Import {impName = "Lune.Database", impAs = Nothing, impExposing = Just [ExposeType "DbValue" ExposeAll]},Import {impName = "Lune.Database.Decode", impAs = Nothing, impExposing = Just [ExposeValue "timestamp"]},Import {impName = "Lune.Time", impAs = Nothing, impExposing = Just [ExposeType "Timestamp" ExposeAll]}], modDecls = [DeclTypeAlias [Annotation {annName = "derive", annArgs = Just (App (Var "Table") (StringLit "users"))}] "User" [] (TypeRecord [("id",TypeCon "Int",[Annotation {annName = "primaryKey", annArgs = Nothing},Annotation {annName = "serial", annArgs = Nothing}]),("name",TypeCon "String",[]),("email",TypeApp (TypeCon "Maybe") (TypeCon "String"),[]),("createdAt",TypeCon "Timestamp",[Annotation {annName = "serial", annArgs = Nothing}])]),DeclTypeAlias [Annotation {annName = "derive", annArgs = Just (App (Var "Table") (StringLit "posts"))}] "Post" [] (TypeRecord [("id",TypeCon "Int",[Annotation {annName = "primaryKey", annArgs = Nothing},Annotation {annName = "serial", annArgs = Nothing}]),("title",TypeCon "String",[]),("authorId",TypeCon "Int",[]),("createdAt",TypeCon "Timestamp",[Annotation {annName = "serial", annArgs = Nothing}]),("updatedAt",TypeCon "Timestamp",[])]),DeclTypeAlias [Annotation {annName = "derive", annArgs = Just (App (Var "Table") (StringLit "products"))}] "Product" [] (TypeRecord [("id",TypeCon "Int",[Annotation {annName = "primaryKey", annArgs = Nothing},Annotation {annName = "serial", annArgs = Nothing}]),("name",TypeCon "String",[]),("priceInCents",TypeCon "Int",[]),("createdAt",TypeCon "Timestamp",[Annotation {annName = "serial", annArgs = Nothing}]),("updatedAt",TypeCon "Timestamp",[])]),DeclTypeAlias [Annotation {annName = "derive", annArgs = Just (App (Var "Table") (StringLit "categories"))}] "Category" [] (TypeRecord [("id",TypeCon "Int",[Annotation {annName = "primaryKey", annArgs = Nothing},Annotation {annName = "serial", annArgs = Nothing}]),("name",TypeCon "String",[]),("parentId",TypeApp (TypeCon "Maybe") (TypeCon "Int"),[])]),DeclTypeSig "demo" (QualType {qualConstraints = [], qualType = TypeCon "String"}),DeclValue "demo" [] (App (Var "getSql") (Var "findAllUsers")),DeclTypeSig "demo2" (QualType {qualConstraints = [], qualType = TypeCon "String"}),DeclValue "demo2" [] (App (Var "getSql") (App (App (Var "where_") (App (App (Var "eq") (Var "users_createdAt")) (App (Var "DbTimestamp") (IntLit 1700000000000000)))) (Var "findAllUsers"))),DeclTypeSig "demo3" (QualType {qualConstraints = [], qualType = TypeCon "String"}),DeclValue "demo3" [] (App (Var "getSql") (App (Var "insertUser") (RecordLiteral [("name",StringLit "Alice"),("email",App (Var "Just") (StringLit "alice@example.com"))])))]}
