Module {modName = "DeriveTable", modExports = [ExposeValue "demo"], modImports = [Import {impName = "Lune.Prelude", impAs = Nothing, impExposing = Just [ExposeType "Bool" ExposeOpaque,ExposeType "Int" ExposeOpaque,ExposeType "String" ExposeOpaque,ExposeType "Maybe" ExposeAll,ExposeType "List" ExposeAll,ExposeType "IO" ExposeOpaque,ExposeType "Unit" ExposeOpaque]},Import {impName = "Lune.Database.Query", impAs = Nothing, impExposing = Just [ExposeValue "getSql"]}], modDecls = [DeclTypeAlias [Annotation {annName = "derive", annArgs = Just (App (Var "Table") (StringLit "users"))}] "User" [] (TypeRecord [("id",TypeCon "Int",[Annotation {annName = "primaryKey", annArgs = Nothing},Annotation {annName = "serial", annArgs = Nothing}]),("name",TypeCon "String",[]),("email",TypeApp (TypeCon "Maybe") (TypeCon "String"),[])]),DeclTypeAlias [Annotation {annName = "derive", annArgs = Just (App (Var "Table") (StringLit "posts"))}] "Post" [] (TypeRecord [("id",TypeCon "Int",[Annotation {annName = "primaryKey", annArgs = Nothing},Annotation {annName = "serial", annArgs = Nothing}]),("title",TypeCon "String",[]),("body",TypeCon "String",[]),("authorId",TypeCon "Int",[])]),DeclTypeSig "demo" (QualType {qualConstraints = [], qualType = TypeCon "String"}),DeclValue "demo" [] (App (Var "getSql") (Var "findAllUsers"))]}
