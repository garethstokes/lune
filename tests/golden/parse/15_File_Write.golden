Module {modName = "FileWrite", modExports = [ExposeValue "main"], modImports = [Import {impName = "Lune.IO", impAs = Just "IO", impExposing = Nothing},Import {impName = "Lune.String", impAs = Just "Str", impExposing = Nothing},Import {impName = "Lune.Prelude", impAs = Nothing, impExposing = Just [ExposeType "Result" ExposeAll]}], modDecls = [DeclTypeSig "main" (QualType {qualConstraints = [], qualType = TypeApp (TypeCon "IO") (TypeCon "Unit")}),DeclValue "main" [] (DoBlock [BindStmt (PVar "writeResult") (App (App (FieldAccess (Var "IO") "writeFile") (StringLit "/tmp/lune-test.txt")) (StringLit "Hello from Lune!")),ExprStmt (Case (Var "writeResult") [Alt (PCon "Ok" [PWildcard]) (DoBlock [BindStmt (PVar "readResult") (App (FieldAccess (Var "IO") "readFile") (StringLit "/tmp/lune-test.txt")),ExprStmt (Case (Var "readResult") [Alt (PCon "Ok" [PVar "contents"]) (App (FieldAccess (Var "IO") "println") (App (App (FieldAccess (Var "Str") "append") (StringLit "Wrote and read: ")) (Var "contents"))),Alt (PCon "Err" [PWildcard]) (App (FieldAccess (Var "IO") "println") (StringLit "Read error"))])]),Alt (PCon "Err" [PWildcard]) (App (FieldAccess (Var "IO") "println") (StringLit "Write error"))])])]}
