module FileWrite exposing (main)

import Lune.IO as IO
import Lune.Task as Task
import Lune.String as Str

main : Task Unit Unit
main =
  Task.onError
    (do
      _ <- IO.writeFile "/tmp/lune-test.txt" "Hello from Lune!"
      Task.onError
        (do
          contents <- IO.readFile "/tmp/lune-test.txt"
          IO.println (Str.append "Wrote and read: " contents)
        )
        (\_ -> IO.println "Read error")
    )
    (\_ -> IO.println "Write error")
